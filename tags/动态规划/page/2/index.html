<div class="card"><div class="card-content"><nav class="breadcrumb" aria-label="breadcrumbs"><ul><li><a href="/tags">标签</a></li><li class="is-active"><a href="#" aria-current="page">动态规划</a></li></ul></nav></div></div><div class="card"><article class="card-content article" role="article"><div class="article-meta is-size-7 is-uppercase level is-mobile"><div class="level-left"><span class="level-item"><time dateTime="2020-05-19T04:10:30.000Z" title="2020-05-19T04:10:30.000Z">2020-05-19</time>发表</span><span class="level-item"><time dateTime="2020-08-16T15:34:55.000Z" title="2020-08-16T15:34:55.000Z">2020-08-16</time>更新</span><span class="level-item"><a class="link-muted" href="/categories/%E6%AF%8F%E6%97%A5%E4%B8%80%E9%A2%98/">每日一题</a></span><span class="level-item">1 分钟读完 (大约221个字)</span></div></div><h1 class="title is-3 is-size-4-mobile"><a class="link-muted" href="/2020/05/19/%E6%AF%8F%E6%97%A5%E4%B8%80%E9%A2%98%EF%BC%9A%E6%AF%94%E8%B5%9B/">每日一题：比赛</a></h1><div class="content"><h3 id="题意"><a href="#题意" class="headerlink" title="题意"></a>题意</h3><p>一共12道题，你有 $a_i$ 的概率做对第 $i$ 题，有 $b_i$ 的概率抄到左边的，有 $c_i$ 的概率抄到右边的，问做对 $0-12$ 题的概率是多少。</p>
<h3 id="solution"><a href="#solution" class="headerlink" title="solution"></a>solution</h3><p>做对的概率不太好求，可以反过来求做错的概率，即 $(1-a[i])\times(1-b[i])\times(1-c[i])$，然后 $dp[i][j]$ 表示前 $i$ 道题做对 $j$ 道的概率，设 $dp[0][0] =1$，得到状态转移方程：$dp[i][j]=dp[i-1][j-1]\times(ac=(1-wa))+dp[i-1][j]*wa$ 。</p>
<h3 id="Code"><a href="#Code" class="headerlink" title="Code"></a>Code</h3><figure class="highlight prolog"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br></pre></td><td class="code"><pre><span class="line">#include &lt;bits/stdc++.h&gt;</span><br><span class="line">using namespace std;</span><br><span class="line">double a[<span class="number">15</span>], b[<span class="number">15</span>], c[<span class="number">15</span>], dp[<span class="number">15</span>][<span class="number">15</span>];</span><br><span class="line">int main() &#123;</span><br><span class="line">  for (int i = <span class="number">1</span>; i &lt;= <span class="number">12</span>; i++) cin &gt;&gt; a[i];</span><br><span class="line">  for (int i = <span class="number">1</span>; i &lt;= <span class="number">12</span>; i++) cin &gt;&gt; b[i];</span><br><span class="line">  for (int i = <span class="number">1</span>; i &lt;= <span class="number">12</span>; i++) cin &gt;&gt; c[i];</span><br><span class="line">  dp[<span class="number">0</span>][<span class="number">0</span>] = <span class="number">1</span>;</span><br><span class="line">  for (int i = <span class="number">1</span>; i &lt;= <span class="number">12</span>; i++) &#123;</span><br><span class="line">    dp[i][<span class="number">0</span>] = dp[i - <span class="number">1</span>][<span class="number">0</span>] * (<span class="number">1</span> - a[i]) * (<span class="number">1</span> - b[i]) * (<span class="number">1</span> - c[i]);</span><br><span class="line">    for (int j = <span class="number">1</span>; j &lt;= i; j++) &#123;</span><br><span class="line">      double wa = (<span class="number">1</span> - a[i]) * (<span class="number">1</span> - b[i]) * (<span class="number">1</span> - c[i]);</span><br><span class="line">      dp[i][j] = dp[i - <span class="number">1</span>][j - <span class="number">1</span>] * (<span class="number">1</span> - wa) + dp[i - <span class="number">1</span>][j] * wa;</span><br><span class="line">    &#125;</span><br><span class="line">  &#125;</span><br><span class="line">  for (int i = <span class="number">0</span>; i &lt;= <span class="number">12</span>; i++) printf(<span class="string">&quot;%f\n&quot;</span>, dp[<span class="number">12</span>][i]);</span><br><span class="line">  return <span class="number">0</span>;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure></div></article></div><div class="card"><article class="card-content article" role="article"><div class="article-meta is-size-7 is-uppercase level is-mobile"><div class="level-left"><span class="level-item"><time dateTime="2020-05-13T03:30:59.000Z" title="2020-05-13T03:30:59.000Z">2020-05-13</time>发表</span><span class="level-item"><time dateTime="2020-05-13T03:51:56.000Z" title="2020-05-13T03:51:56.000Z">2020-05-13</time>更新</span><span class="level-item"><a class="link-muted" href="/categories/%E6%AF%8F%E6%97%A5%E4%B8%80%E9%A2%98/">每日一题</a></span><span class="level-item">3 分钟读完 (大约418个字)</span></div></div><h1 class="title is-3 is-size-4-mobile"><a class="link-muted" href="/2020/05/13/%E6%AF%8F%E6%97%A5%E4%B8%80%E9%A2%98%EF%BC%9A%E8%BF%87%E6%B2%B3-%E7%A6%BB%E6%95%A3%E5%8C%96-dp/">每日一题：过河 离散化+dp</a></h1><div class="content"><h3 id="题意："><a href="#题意：" class="headerlink" title="题意："></a>题意：</h3><p>桥长度为$L$ ，分布有$n$ 个石子，青蛙每次可以跳 $[S,T]$ 的距离,问青蛙过桥至少要踩多少个石子。</p>
<p>$(1&lt;=S,T&lt;=10,m&lt;=100,a_i&lt;=10^9, a_i 表示第i个石子的位置)$</p>
<h3 id="solution"><a href="#solution" class="headerlink" title="solution"></a>solution</h3><p>这是个很显然的dp题，难点在于他的 $a_i$ 达到了 $10^9$ ，所以我们需要压缩一下。</p>
<ol>
<li>当 $s==t$ 时，答案就是位置能被 $s$ 整除的石子个数。</li>
<li>当 $s!=t$ 时，我们可以发现：假设当前位置为 $x$ ，那么 $x+s*t$ 之后的所有位置是一定可以被走到的。（可以看做是 $s$ 个 $t$ 步相加或 $t$ 个 $s$ 步相加，然后调整某些步的长度即可。）</li>
</ol>
<p>然后，石子之间的距离就被压缩了，只要相邻的两个石子距离 $&gt;=s<em>t$ 的变成 $s</em>t$ 即可。</p>
<p>但是这样一压缩，最后的落点就不能确定了，但是起点是已知的，所以干脆倒过来dp。</p>
<p>状态转移方程：</p>
<ul>
<li>i 点有石子：$dp[i] = min(dp[i], dp[i+j]+1)$</li>
<li>i 点无石子：$dp[i] = min(dp[i], dp[i+j])$</li>
</ul>
<h3 id="Code"><a href="#Code" class="headerlink" title="Code"></a>Code</h3><figure class="highlight excel"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br></pre></td><td class="code"><pre><span class="line">#include &lt;bits/stdc++.h&gt;</span><br><span class="line">using namespace std;</span><br><span class="line">const <span class="built_in">int</span> <span class="built_in">N</span> = <span class="number">2</span>e5 + <span class="number">5</span>;</span><br><span class="line"><span class="built_in">int</span> l, s, <span class="built_in">t</span>, <span class="built_in">n</span>, dis, res, a[<span class="built_in">N</span>], dp[<span class="built_in">N</span>], vis[<span class="built_in">N</span>];</span><br><span class="line"><span class="built_in">int</span> main() &#123;</span><br><span class="line">  cin &gt;&gt; l &gt;&gt; s &gt;&gt; <span class="built_in">t</span> &gt;&gt; <span class="built_in">n</span>;</span><br><span class="line">  for (<span class="built_in">int</span> i = <span class="number">1</span>; i &lt;= <span class="built_in">n</span>; i++) cin &gt;&gt; a[i];</span><br><span class="line">  <span class="built_in">if</span> (s == <span class="built_in">t</span>) &#123;</span><br><span class="line">    for (<span class="built_in">int</span> i = <span class="number">1</span>; i &lt;= <span class="built_in">n</span>; i++) &#123;</span><br><span class="line">      <span class="built_in">if</span> (a[i] % s == <span class="number">0</span>) res++;</span><br><span class="line">    &#125;</span><br><span class="line">    cout &lt;&lt; res &lt;&lt; &#x27;\n&#x27;;</span><br><span class="line">    return <span class="number">0</span>;</span><br><span class="line">  &#125;</span><br><span class="line">  sort(a + <span class="number">1</span>, a + <span class="built_in">n</span> + <span class="number">1</span>);</span><br><span class="line">  <span class="built_in">int</span> <span class="built_in">len</span> = s * <span class="built_in">t</span>;</span><br><span class="line">  for (<span class="built_in">int</span> i = <span class="number">1</span>; i &lt;= <span class="built_in">n</span>; i++) &#123;</span><br><span class="line">    <span class="built_in">int</span> d = a[i] - a[i - <span class="number">1</span>];</span><br><span class="line">    <span class="built_in">if</span> (d &gt; <span class="built_in">len</span>) d = <span class="built_in">len</span>;</span><br><span class="line">    dis += d;</span><br><span class="line">    vis[dis] = <span class="number">1</span>;</span><br><span class="line">  &#125;</span><br><span class="line">  for (<span class="built_in">int</span> i = dis; i &gt;= <span class="number">0</span>; i--) &#123;</span><br><span class="line">    dp[i] = <span class="number">100</span>;</span><br><span class="line">    for (<span class="built_in">int</span> j = s; j &lt;= <span class="built_in">t</span>; j++) &#123;</span><br><span class="line">      dp[i] = <span class="built_in">min</span>(dp[i], dp[i + j] + vis[i]);</span><br><span class="line">    &#125;</span><br><span class="line">  &#125;</span><br><span class="line">  cout &lt;&lt; dp[<span class="number">0</span>] &lt;&lt; &#x27;\n&#x27;;</span><br><span class="line">  return <span class="number">0</span>;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure></div></article></div><div class="card"><article class="card-content article" role="article"><div class="article-meta is-size-7 is-uppercase level is-mobile"><div class="level-left"><span class="level-item"><time dateTime="2020-04-27T07:40:27.000Z" title="2020-04-27T07:40:27.000Z">2020-04-27</time>发表</span><span class="level-item"><time dateTime="2020-04-27T08:25:41.000Z" title="2020-04-27T08:25:41.000Z">2020-04-27</time>更新</span><span class="level-item"><a class="link-muted" href="/categories/%E6%AF%8F%E6%97%A5%E4%B8%80%E9%A2%98/">每日一题</a></span><span class="level-item">3 分钟读完 (大约418个字)</span></div></div><h1 class="title is-3 is-size-4-mobile"><a class="link-muted" href="/2020/04/27/%E6%AF%8F%E6%97%A5%E4%B8%80%E9%A2%98%EF%BC%9A%E7%BE%8E%E5%91%B3%E8%8F%9C%E8%82%B4/">每日一题：美味菜肴</a></h1><div class="content"><h3 id="题意"><a href="#题意" class="headerlink" title="题意"></a>题意</h3><p>$n$ 件食材（每种食材的数量可以视为无限），小明连续工作 $T$ 时间。每道菜肴的制作需要特定的一种食材以及一段时间，但是食材一旦放久就不新鲜了，菜的美味值会降低。第 $i$ 道菜肴有三个属性 $ai$，$bi$，$ci$，$ai$ 是该菜肴的美味值，$bi$ 是该菜肴所选食材不新鲜的速率，如果在第t时刻完成第i道菜则美味值为：$ai-t*bi$，完成这道菜需要 $ci$ 的时间。求在这 $T$ 时间内能做出菜肴使得总美味值的最大值。</p>
<h3 id="solution"><a href="#solution" class="headerlink" title="solution"></a>solution</h3><p>首先需要贪心确定顺序，考虑只有两道菜，可以得到：$a_i−b_i∗c_i+(a_j−b_j∗(c_i+c_j))&gt;=a_j−b_j∗c_j+(a_i−b_i∗(c_i+c_j))$，化简后得到：$b_i∗c_i&gt;=b_j∗c_i$。排序后背包即可（需要降维）。</p>
<h3 id="Code"><a href="#Code" class="headerlink" title="Code"></a>Code</h3><figure class="highlight perl"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">#include &lt;bits/stdc++.h&gt;</span></span><br><span class="line">using namespace std;</span><br><span class="line">typedef long long ll;</span><br><span class="line">const ll INF = <span class="number">0x3ffffffffffff</span>;</span><br><span class="line">const <span class="keyword">int</span> N = <span class="number">2</span>e5 + <span class="number">5</span>;</span><br><span class="line"></span><br><span class="line">struct Node &#123;</span><br><span class="line">  ll a, b, c;</span><br><span class="line">&#125; <span class="string">q[N]</span>;</span><br><span class="line"></span><br><span class="line">ll res = -INF, <span class="keyword">s</span>[N], dp[N];</span><br><span class="line"></span><br><span class="line">bool cmp(Node <span class="keyword">x</span>, Node <span class="keyword">y</span>) &#123; <span class="keyword">return</span> x.c * <span class="keyword">s</span>[y.a] &lt; y.c * <span class="keyword">s</span>[x.a]; &#125;</span><br><span class="line"></span><br><span class="line"><span class="keyword">int</span> main() &#123;</span><br><span class="line">  <span class="keyword">int</span> n, <span class="keyword">m</span>, t;</span><br><span class="line">  cin &gt;&gt; n &gt;&gt; <span class="keyword">m</span> &gt;&gt; t;</span><br><span class="line">  <span class="keyword">for</span> (<span class="keyword">int</span> i = <span class="number">1</span>; i &lt;= n; i++) cin &gt;&gt; <span class="keyword">s</span>[i];</span><br><span class="line">  <span class="keyword">for</span> (<span class="keyword">int</span> i = <span class="number">1</span>; i &lt;= <span class="keyword">m</span>; i++) cin &gt;&gt; <span class="string">q[i]</span>.a &gt;&gt; <span class="string">q[i]</span>.b &gt;&gt; <span class="string">q[i]</span>.c;</span><br><span class="line">  <span class="keyword">sort</span>(<span class="keyword">q</span> + <span class="number">1</span>, <span class="keyword">q</span> + <span class="keyword">m</span> + <span class="number">1</span>, cmp);</span><br><span class="line">  <span class="keyword">for</span> (<span class="keyword">int</span> i = <span class="number">1</span>; i &lt;= t; i++) dp[i] = -INF;</span><br><span class="line">  <span class="keyword">for</span> (<span class="keyword">int</span> i = <span class="number">1</span>; i &lt;= <span class="keyword">m</span>; i++)</span><br><span class="line">    <span class="keyword">for</span> (<span class="keyword">int</span> j = t; j &gt;= <span class="string">q[i]</span>.c; j--)</span><br><span class="line">      dp[j] = max(dp[j], dp[j - <span class="string">q[i]</span>.c] + <span class="string">q[i]</span>.b - j * <span class="keyword">s</span>[<span class="string">q[i]</span>.a]);</span><br><span class="line">  <span class="keyword">for</span> (<span class="keyword">int</span> i = <span class="number">1</span>; i &lt;= t; i++) res = max(res, dp[i]);</span><br><span class="line">  cout &lt;&lt; res &lt;&lt; <span class="string">&#x27;\n&#x27;</span>;</span><br><span class="line">  <span class="keyword">return</span> <span class="number">0</span>;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure></div></article></div><nav class="pagination" role="navigation" aria-label="pagination"><div class="pagination-previous"><a href="/tags/%E5%8A%A8%E6%80%81%E8%A7%84%E5%88%92/">上一页</a></div><div class="pagination-next is-invisible is-hidden-mobile"><a href="/tags/%E5%8A%A8%E6%80%81%E8%A7%84%E5%88%92/page/3/">下一页</a></div><ul class="pagination-list is-hidden-mobile"><li><a class="pagination-link" href="/tags/%E5%8A%A8%E6%80%81%E8%A7%84%E5%88%92/">1</a></li><li><a class="pagination-link is-current" href="/tags/%E5%8A%A8%E6%80%81%E8%A7%84%E5%88%92/page/2/">2</a></li></ul></nav>